/* ==================
 脚本类型: 脚本
 版权：游戏盒团队     
 联系扣扣：297870163    609654666
 =====================
 */importPackage(Packages.tools);var closeTime=24E4,beginTime=3E5,rideTime=6E4,KC_bfd,Plane_to_CBD,CBD_docked,CBD_bfd,Plane_to_KC,KC_docked;function init(){KC_bfd=em.getChannelServer().getMapFactory().getMap(540010100);CBD_bfd=em.getChannelServer().getMapFactory().getMap(540010001);Plane_to_CBD=em.getChannelServer().getMapFactory().getMap(540010101);Plane_to_KC=em.getChannelServer().getMapFactory().getMap(540010002);CBD_docked=em.getChannelServer().getMapFactory().getMap(103E6);KC_docked=em.getChannelServer().getMapFactory().getMap(54001E4);scheduleNew()}function scheduleNew(){em.schedule("stopEntry",closeTime);em.schedule("takeoff",beginTime)}function stopEntry(){em.setProperty("entry","false")}function takeoff(){em.setProperty("entry","true");for(var a=KC_bfd.getCharacters().iterator();a.hasNext();)a.next().changeMap(Plane_to_KC,Plane_to_KC.getPortal(0));for(a=CBD_bfd.getCharacters().iterator();a.hasNext();)a.next().changeMap(Plane_to_CBD,Plane_to_CBD.getPortal(0));em.schedule("arrived",rideTime);scheduleNew()}function arrived(){for(var a=Plane_to_CBD.getCharacters().iterator();a.hasNext();)a.next().changeMap(CBD_docked,CBD_docked.getPortal(0));for(a=Plane_to_KC.getCharacters().iterator();a.hasNext();)a.next().changeMap(KC_docked,KC_docked.getPortal(0))}function cancelSchedule(){};