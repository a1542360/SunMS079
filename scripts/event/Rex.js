/* ==================
 脚本类型: 脚本
 版权：游戏盒团队     
 联系扣扣：297870163    609654666
 =====================
 */var minPlayers=2;function init(){em.setProperty("state","0");em.setProperty("leader","true")}function setup(a,c){em.setProperty("state","1");em.setProperty("leader","true");var b=em.newInstance("Rex"+c);b.setInstanceMap(921120005).resetPQ(a);b.setInstanceMap(921120100).resetPQ(a);b.setInstanceMap(921120200).resetPQ(a);b.setInstanceMap(921120300).resetPQ(a);b.setInstanceMap(921120400).resetPQ(a);b.setInstanceMap(921120500).resetPQ(a);b.setInstanceMap(921120600).resetPQ(a);var e=b.getMapInstance(Packages.constants.GameConstants.GMS?4:6),d=em.getMonster(9300281);b.registerMonster(d);d.changeLevel(a);e.spawnMonsterOnGroundBelow(d,e.getPortal(0).getPosition());b.startEventTimer(12E5);return b}function playerEntry(a,c){var b=a.getMapInstance(0);c.changeMap(b,b.getPortal(0))}function playerRevive(a,c){a.unregisterPlayer(c);a.disposeIfPlayerBelow(0,0)&&(em.setProperty("state","0"),em.setProperty("leader","true"));return!0}function scheduledTimeout(a){end(a)}function changedMap(a,c,b){if(921120005>b||921120600<b)a.unregisterPlayer(c),a.disposeIfPlayerBelow(0,0)&&(em.setProperty("state","0"),em.setProperty("leader","true"))}function playerDisconnected(a,c){return 0}function monsterValue(a,c){return 1}function playerExit(a,c){a.unregisterPlayer(c);c.changeMap(em.getChannelServer().getMapFactory().getMap(211000002),em.getChannelServer().getMapFactory().getMap(211000002).getPortal(0));a.disposeIfPlayerBelow(0,0)&&(em.setProperty("state","0"),em.setProperty("leader","true"))}function end(a){a.disposeIfPlayerBelow(100,211000002);em.setProperty("state","0");em.setProperty("leader","true")}function clearPQ(a){end(a)}function allMonstersDead(a){}function leftParty(a,c){end(a)}function disbandParty(a){end(a)}function playerDead(a,c){}function cancelSchedule(){};