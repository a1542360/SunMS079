/* ==================
 脚本类型: 脚本
 版权：游戏盒团队     
 联系扣扣：297870163    609654666
 =====================
 */var eventmapid=74E7,returnmap=91E7,monster=[9300003,222E4,322E4,5220002,622E4,9300012,5220001,822E4,422E4,7220001,5220003,3220001,6220001,722E4,7220002,8220002,8220001];function init(){}function setup(a){a=em.newInstance("BossQuest"+a);var b=a.createInstanceMapS(eventmapid);b.toggleDrops();b.spawnNpc(9209101,new java.awt.Point(854,-24));a.setProperty("points",0);a.setProperty("monster_number",0);beginQuest(a);return a}function beginQuest(a){null!=a&&a.startEventTimer(5E3)}function monsterSpawn(a){var b=em.getMonster(monster[parseInt(a.getProperty("monster_number"))]);a.registerMonster(b);a.getMapInstance(0).spawnMonsterOnGroundBelow(b,new java.awt.Point(-191,261))}function playerEntry(a,b){var c=a.getMapInstance(0);b.changeMap(c,c.getPortal(0))}function changedMap(a,b,c){c!=eventmapid&&(a.unregisterPlayer(b),a.disposeIfPlayerBelow(0,0))}function scheduledTimeout(a){var b=parseInt(a.getProperty("monster_number"));b<monster.length?(monsterSpawn(a),a.setProperty("monster_number",b+1)):a.disposeIfPlayerBelow(100,returnmap)}function allMonstersDead(a){a.restartEventTimer(3E3);var b=parseInt(a.getProperty("monster_number")),c=5*b,d=parseInt(a.getProperty("points"))+c;a.setProperty("points",d);a.broadcastPlayerMsg(5,"\u4f60\u7684\u961f\u4f0d\u83b7\u5f97\u4e86 "+c+" \u70b9\u6570! \u603b\u5171\u4e3a "+d+".");a.saveBossQuest(c);b<monster.length?a.broadcastPlayerMsg(6,"\u51c6\u5907\uff01\u4e0b\u4e00\u53ea\u7684BOSS\u5373\u5c06\u6765\u4e34\u3002"):(a.saveBossQuest(200),a.broadcastPlayerMsg(5,"\u606d\u559c\u6574\u961f\u6311\u6218\u7b80\u5355\u6a21\u5f0f\u6210\u529f\u3002"))}function playerDead(a,b){}function playerRevive(a,b){return!0}function playerDisconnected(a,b){return 0}function monsterValue(a,b){return 0}function leftParty(a,b){a.unregisterPlayer(b);var c=em.getMapFactory().getMap(returnmap);b.changeMap(c,c.getPortal(0));a.disposeIfPlayerBelow(0,0)}function disbandParty(a,b){a.disposeIfPlayerBelow(100,returnmap)}function clearPQ(a){}function removePlayer(a,b){a.dispose()}function registerCarnivalParty(a,b){}function onMapLoad(a,b){}function cancelSchedule(){};